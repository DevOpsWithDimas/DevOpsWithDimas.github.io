<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Working with Deployment object - DevOps with Dimas Maryanto</title>
<meta name="description" content="Hai semuanya, materi sebelumnya kita sudah mencoba menggunakan Kubernetes workload resources dengan Object Deployment yang paling simple. Sekarang kita akan membahas yang lebih detail tentang Object Deployment. Karena pembahasan kali ini lumayan panjang jadi kita bagi2 jadi beberapa bagian diantaranya:     What is Deployment Object?   Create a Deployment   Interaction with Deployment object            Updating a Deployment       Rolling Back a Deployment       Scalling the pods with a Deployment       Pause and Resume rollout of a Deployment           Deployment status            type: progressing       type: complete       type: failed       type: pending           Okay tanpa berlama-lama yuk langsung aja kita bahas materi yang pertama:">


  <meta name="author" content="Dimas Maryanto">
  
  <meta property="article:author" content="Dimas Maryanto">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="DevOps with Dimas Maryanto">
<meta property="og:title" content="Working with Deployment object">
<meta property="og:url" content="/posts/devops/orchestration/kubernetes/workloads/05b-deployment">


  <meta property="og:description" content="Hai semuanya, materi sebelumnya kita sudah mencoba menggunakan Kubernetes workload resources dengan Object Deployment yang paling simple. Sekarang kita akan membahas yang lebih detail tentang Object Deployment. Karena pembahasan kali ini lumayan panjang jadi kita bagi2 jadi beberapa bagian diantaranya:     What is Deployment Object?   Create a Deployment   Interaction with Deployment object            Updating a Deployment       Rolling Back a Deployment       Scalling the pods with a Deployment       Pause and Resume rollout of a Deployment           Deployment status            type: progressing       type: complete       type: failed       type: pending           Okay tanpa berlama-lama yuk langsung aja kita bahas materi yang pertama:">







  <meta property="article:published_time" content="2023-04-29T11:51:37+07:00">





  

  


<link rel="canonical" href="/posts/devops/orchestration/kubernetes/workloads/05b-deployment">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Dimas maryanto",
      "url": "/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="DevOps with Dimas Maryanto Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



<script src="/assets/js/jquery/jquery-3.6.4.min.js"></script>
    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/favicon/site.webmanifest">
<link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/logo.png" alt="DevOps with Dimas Maryanto"></a>
        
        <a class="site-title" href="/">
          DevOps with Dimas Maryanto
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/pages/recent-posts/">Archives</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/cources/">Cources</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/roadmaps/">Roadmaps</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/private-class/">Private class</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/discount/">Promo</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <img src="/assets/images/profile.jpeg" alt="Dimas Maryanto" itemprop="image" class="u-photo">
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      Dimas Maryanto
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>I am an <strong>Instructure</strong> at Udemy and 
<strong>Chief Technology Officer</strong> at PT. Tabeldata Informatika</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  <hr>
  

  

  

  
    
    
  
  
  
  <nav class="toc">
    <header>
      <h4 class="nav__title">
        <i class="fas fa-file-alt"></i> 
        On this page
      </h4>
    </header>
    <ul class="toc__menu"><li><a href="#what-is-deployment-object">What is Deployment Object</a></li><li><a href="#create-deployment-using-yaml-file">Create Deployment using yaml file</a></li><li><a href="#interaction-with-development-object">Interaction with Development object</a><ul><li><a href="#updating-a-deployment">Updating a Deployment</a></li><li><a href="#rolling-back-a-deployment">Rolling Back a Deployment</a></li><li><a href="#scalling-the-pods-with-a-deployment">Scalling the pods with a Deployment</a></li><li><a href="#rollingupdate-a-deployment">RollingUpdate a Deployment</a></li><li><a href="#pause-and-resume-rollout-of-a-deployment">Pause and Resume rollout of a Deployment</a></li></ul></li><li><a href="#status-of-a-deployment-object">Status of a Deployment object</a></li></ul>

  </nav>
  
  </div>




  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Working with Deployment object">
    <meta itemprop="description" content="Hai semuanya, materi sebelumnya kita sudah mencoba menggunakan Kubernetes workload resources dengan Object Deployment yang paling simple. Sekarang kita akan membahas yang lebih detail tentang Object Deployment. Karena pembahasan kali ini lumayan panjang jadi kita bagi2 jadi beberapa bagian diantaranya:  What is Deployment Object?  Create a Deployment  Interaction with Deployment object          Updating a Deployment      Rolling Back a Deployment      Scalling the pods with a Deployment      Pause and Resume rollout of a Deployment        Deployment status          type: progressing      type: complete      type: failed      type: pending      Okay tanpa berlama-lama yuk langsung aja kita bahas materi yang pertama:">
    <meta itemprop="datePublished" content="2023-04-29T11:51:37+07:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="/posts/devops/orchestration/kubernetes/workloads/05b-deployment" class="u-url" itemprop="url">Working with Deployment object
</a>
          </h1>
          
<p class="page__meta">

  
  
    <a href="/pages/cources/kubernetes" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      Kubernetes for DevOps
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2023-04-29T11:51:37+07:00">April 29, 2023</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-clock" aria-hidden="true"></i>
      
        22 minute read
      
    </span>
  
    

</p>

        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <div class="text-right">
          <label class="switch">
            <input name="cource-content" onchange="showCourceContent(this.checked)" type="checkbox">
            <span class="slider"></span>
          </label>
        </div>        
        <aside id="cource_contents" style="display: none;" class="sidebar__right">
          
            
            
            
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Pengenalan Kubernetes">
        <label class="acordion-item-label" for="content-Pengenalan Kubernetes">
            Pengenalan Kubernetes
        </label>
        <div class="acordion-item-content">
            <ul>
            
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/01-silabus">
                        
                        Silabus - DevOps Kubernetes...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/01a-what-is-kubernetes">
                        
                        What is Kubernetes (k8s) ?
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/01b-k8s-components">
                        
                        Kubernetes Components
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/01c-k8s-api">
                        
                        The Kubernetes API
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/01d-k8s-objects">
                        
                        What is Kubernetes Objects?
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/01e-k8s-object-management">
                        
                        Managing Kubernetes Object
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/01f-k8s-object-names-and-uids">
                        
                        Kubernetes Object Names and...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/01g-k8s-namespaces">
                        
                        What is Kubernetes Namespaces?
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/01h-kubernetes-environtments">
                        
                        Kubernetes cluster environt...
                    </a>
                </li>
                
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Getting started with minikube">
        <label class="acordion-item-label" for="content-Getting started with minikube">
            Getting started with minikube
        </label>
        <div class="acordion-item-content">
            <ul>
            
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02-overview-learn-env">
                        
                        Overview learning environme...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02a-install-tools-for-macos">
                        
                        Install minikube on Mac (In...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02a-install-for-mac-apple-silicon">
                        
                        Install minikube on Mac (Ap...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02a-install-tools-for-windows">
                        
                        Install minikube for Window...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02a-install-tools-for-linux">
                        
                        Install minikube for Linux ...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02b-deploy-application">
                        
                        Deploying an apps/services ...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02c-minikube-basic-control">
                        
                        Minikube basic control
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02d-minikube-use-your-own-images">
                        
                        Using your own image into M...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02f-minikube-addons">
                        
                        Minikube addons features
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02g-minikube-access-apps">
                        
                        Access your apps/service in...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/02h-minikube-mount">
                        
                        Mounting filesystems to min...
                    </a>
                </li>
                
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Pods and Containers">
        <label class="acordion-item-label" for="content-Pods and Containers">
            Pods and Containers
        </label>
        <div class="acordion-item-content">
            <ul>
            
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03-overview-pod-containers">
                        
                        Overview Pod and Container ...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03a-workload-pods">
                        
                        Kubernetes Workloads with Pods
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03b-working-with-pods">
                        
                        Working with Pods
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03c-basic-pod-and-containers-config">
                        
                        Basic Pods and Containers C...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03d-pod-lifecycle">
                        
                        Pod & Container Lifecycle
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03e-init-containers">
                        
                        Initialization of Containers
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03f-pod-env-config">
                        
                        Configure env (Environment ...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03g-pod-resource-request-and-limit">
                        
                        Configure Request and Limit...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03h-pod-container-probe-config">
                        
                        Configure liveness, readine...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/03i-distruptions">
                        
                        Pod Disruptions
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/04-overview-study-cases">
                        
                        Overview Study Cases: Pod a...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/04a-study-cases-monolith-apps">
                        
                        Study Cases: Monolith apps ...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/pods/04b-study-cases-microservice-backend-apps">
                        
                        Study cases: Microservice a...
                    </a>
                </li>
                
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Workload resources">
        <label class="acordion-item-label" for="content-Workload resources">
            Workload resources
        </label>
        <div class="acordion-item-content">
            <ul>
            
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/workloads/05-overview-workload-resources">
                        
                        Overview Kubernetes Workloa...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/workloads/05a-what-is-workload">
                        
                        What is Workload Resources?
                    </a>
                </li>
                
                <li>
                    <a href="/posts/devops/orchestration/kubernetes/workloads/05b-deployment">
                        
                        <i class="fas fa-bookmark"></i>
                        
                        Working with Deployment object
                    </a>
                </li>
                
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Networking (service)">
        <label class="acordion-item-label" for="content-Networking (service)">
            Networking (service)
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Store data using Volumes">
        <label class="acordion-item-label" for="content-Store data using Volumes">
            Store data using Volumes
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Kubernetes Client">
        <label class="acordion-item-label" for="content-Kubernetes Client">
            Kubernetes Client
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Security RBAC">
        <label class="acordion-item-label" for="content-Security RBAC">
            Security RBAC
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Kubernetes Package manager">
        <label class="acordion-item-label" for="content-Kubernetes Package manager">
            Kubernetes Package manager
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Kubernetes cluster for Production grade">
        <label class="acordion-item-label" for="content-Kubernetes cluster for Production grade">
            Kubernetes cluster for Production grade
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Service mesh with istio">
        <label class="acordion-item-label" for="content-Service mesh with istio">
            Service mesh with istio
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Kubernetes on Cloud provider">
        <label class="acordion-item-label" for="content-Kubernetes on Cloud provider">
            Kubernetes on Cloud provider
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
                
                      
          
        </aside>
        
        <p>Hai semuanya, materi sebelumnya kita sudah mencoba menggunakan Kubernetes workload resources dengan Object Deployment yang paling simple. Sekarang kita akan membahas yang lebih detail tentang Object Deployment. Karena pembahasan kali ini lumayan panjang jadi kita bagi2 jadi beberapa bagian diantaranya:</p>

<ol>
  <li>What is Deployment Object?</li>
  <li>Create a Deployment</li>
  <li>Interaction with Deployment object
    <ul>
      <li>Updating a Deployment</li>
      <li>Rolling Back a Deployment</li>
      <li>Scalling the pods with a Deployment</li>
      <li>Pause and Resume rollout of a Deployment</li>
    </ul>
  </li>
  <li>Deployment status
    <ul>
      <li><code class="language-plaintext highlighter-rouge">type: progressing</code></li>
      <li><code class="language-plaintext highlighter-rouge">type: complete</code></li>
      <li><code class="language-plaintext highlighter-rouge">type: failed</code></li>
      <li><code class="language-plaintext highlighter-rouge">type: pending</code></li>
    </ul>
  </li>
</ol>

<p>Okay tanpa berlama-lama yuk langsung aja kita bahas materi yang pertama:</p>

<!--more-->

<h2 id="what-is-deployment-object">What is Deployment Object</h2>

<p>Seperti yang telah saya bahas di materi sebelumnya, Deployment adalah salah satu Workload resources yang digunakan untuk me-manage Pod dan container yang paling cocok untuk aplikasi Stateless atau tidak menyimpan data.</p>

<p>A Deployment provides declarative updates for Pods and ReplicaSets.</p>

<p>You describe a desired state in a Deployment, and the Deployment Controller changes the actual state to the desired state at a controlled rate. You can define Deployments to create new ReplicaSets, or to remove existing Deployments and adopt all their resources with new Deployments.</p>

<p><img src="/resources/posts/kubernetes/05b-deployment/deployment-flow.png" alt="deployment-flow" /></p>

<p>The following are typical use cases for Deployments:</p>

<ol>
  <li>Create a Deployment to rollout a ReplicaSet. The ReplicaSet creates Pods in the background. Check the status of the rollout to see if it succeeds or not.</li>
  <li>Declare the new state of the Pods by updating the <code class="language-plaintext highlighter-rouge">PodTemplateSpec</code> of the Deployment. A new ReplicaSet is created and the Deployment manages moving the Pods from the old ReplicaSet to the new one at a controlled rate. Each new ReplicaSet updates the revision of the Deployment.</li>
  <li>Rollback to an earlier Deployment revision if the current state of the Deployment is not stable. Each rollback updates the revision of the Deployment.</li>
  <li>Scale up the Deployment to facilitate more load.</li>
  <li>Pause the rollout of a Deployment to apply multiple fixes to its <code class="language-plaintext highlighter-rouge">PodTemplateSpec</code> and then resume it to start a new rollout.</li>
  <li>Use the status of the Deployment as an indicator that a rollout has stuck.</li>
  <li>Clean up older ReplicaSets that you don’t need anymore.</li>
</ol>

<h2 id="create-deployment-using-yaml-file">Create Deployment using yaml file</h2>

<p>Untuk membuat object deployment bisa menggunakan imperative command (<code class="language-plaintext highlighter-rouge">kubectl create deploy</code>) dan declarative seperti membuat file extension <code class="language-plaintext highlighter-rouge">.yaml</code> atau <code class="language-plaintext highlighter-rouge">.json</code> yang kemudian di execute menggunakan perintah <code class="language-plaintext highlighter-rouge">kubectl apply -f filename.yaml</code>.</p>

<p>Berikut adalah basic Deployment spec yang digunakan untuk membuat/menjalankan 3 buah pod dengan container image <code class="language-plaintext highlighter-rouge">nginx</code> seperti berikut:</p>

<script src="https://gist.github.com/dimMaryanto93/96f6954c9a27a6b1934113b10223196a.js?file=05b-basic-deploy-nginx.yaml"> </script>

<p>Kemudian coba jalankan menggunakan perintah:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl apply <span class="nt">-f</span> basic-deployment.yaml</code></pre></figure>

<p>Jika kita lihat hasilnya seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➡ kubectl apply <span class="nt">-f</span> 03-workloads/01-basic-deploy/basic-deployment.yaml
deployment.apps/nginx-deploy created

➜ kubectl get deploy
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
nginx-deploy   3/3     3            3           3m21s

➜ kubectl get rs
NAME                     DESIRED   CURRENT   READY   AGE
nginx-deploy-c9bcb48d4   3         3         3       3m39s

➜ kubectl get pod
NAME                           READY   STATUS    RESTARTS   AGE
nginx-deploy-c9bcb48d4-5s7zs   1/1     Running   0          82s
nginx-deploy-c9bcb48d4-nrsr7   1/1     Running   0          3m54s
nginx-deploy-c9bcb48d4-rbc8s   1/1     Running   0          82s
</code></pre></div></div>

<p>In this example:</p>

<ol>
  <li>
    <p>A Deployment named <code class="language-plaintext highlighter-rouge">nginx-deploy</code> is created, indicated by the <code class="language-plaintext highlighter-rouge">.metadata.name</code> field. This name will become the basis for the ReplicaSets and Pods which are created later. See <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#writing-a-deployment-spec">Writing a Deployment Spec</a> for more details.</p>
  </li>
  <li>
    <p>The Deployment creates a ReplicaSet that creates three replicated Pods, indicated by the <code class="language-plaintext highlighter-rouge">.spec.replicas</code> field.</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">.spec.selector</code> field defines how the created ReplicaSet finds which Pods to manage. In this case, you select a label that is defined in the Pod template (<code class="language-plaintext highlighter-rouge">app: nginx</code>, <code class="language-plaintext highlighter-rouge">env: test</code>). However, more sophisticated selection rules are possible, as long as the Pod template itself satisfies the rule.</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">template</code> field contains the following sub-fields:</p>

    <ol>
      <li>The Pods are labeled <code class="language-plaintext highlighter-rouge">app: nginx</code> using the <code class="language-plaintext highlighter-rouge">.metadata.labels</code> field.</li>
      <li>The Pod template’s specification, or <code class="language-plaintext highlighter-rouge">.template.spec</code> field, indicates that the Pods run one container, <code class="language-plaintext highlighter-rouge">nginx</code>, which runs the <code class="language-plaintext highlighter-rouge">nginx</code> Docker <a href="https://hub.docker.com/_/nginx">Hub image</a> at version [mainline].</li>
      <li>Create one container and name it <code class="language-plaintext highlighter-rouge">nginx</code> using the <code class="language-plaintext highlighter-rouge">.spec.template.spec.containers[0].name</code> field.</li>
    </ol>
  </li>
</ol>

<h2 id="interaction-with-development-object">Interaction with Development object</h2>

<p>Untuk berinteraksi dengan object deployment ada beberapa function/command yang kita bisa gunakan seperti</p>

<ol>
  <li>Melihat log pada suatu pod,</li>
  <li>Meng-execute command pada suatu pod dari sekumpulan pod,</li>
  <li>Merestart seluruh pod dalam deployment,</li>
  <li>Updating a deployment spec,</li>
  <li>Rolling back to previews history version,</li>
  <li>Scalling deployment</li>
  <li>Proportional scalling deployment (autoscalling)</li>
</ol>

<p>Okay sekarang kita coba satu-per-satu yuk, Untuk melihat logs pada suatu pod yang ada pada suatu deployment kita bisa menggunakan perintah <code class="language-plaintext highlighter-rouge">kubectl logs deploy/&lt;deploy-name&gt;</code> contohnya seperti berikut:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl logs deploy/nginx-deploy</code></pre></figure>

<p>Jika dijalankan maka hasilnya seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl get deploy
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
nginx-deploy   3/3     3            3           111s

➜ kubectl get pod
NAME                           READY   STATUS    RESTARTS   AGE
nginx-deploy-c9bcb48d4-dzg7p   1/1     Running   0          7m41s
nginx-deploy-c9bcb48d4-nrq4k   1/1     Running   0          7m41s
nginx-deploy-c9bcb48d4-qgf9d   1/1     Running   0          7m41s

➜ kubectl logs deploy/nginx-deploy
Found 3 pods, using pod/nginx-deploy-c9bcb48d4-dzg7p
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking <span class="k">for </span>shell scripts <span class="k">in</span> /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 <span class="k">in</span> /etc/nginx/conf.d/default.conf
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration <span class="nb">complete</span><span class="p">;</span> ready <span class="k">for </span>start up
2023/04/09 02:31:40 <span class="o">[</span>notice] 1#1: using the <span class="s2">"epoll"</span> event method
2023/04/09 02:31:40 <span class="o">[</span>notice] 1#1: nginx/1.23.4
2023/04/09 02:31:40 <span class="o">[</span>notice] 1#1: built by gcc 10.2.1 20210110 <span class="o">(</span>Debian 10.2.1-6<span class="o">)</span>
2023/04/09 02:31:40 <span class="o">[</span>notice] 1#1: OS: Linux 5.10.57
2023/04/09 02:31:40 <span class="o">[</span>notice] 1#1: getrlimit<span class="o">(</span>RLIMIT_NOFILE<span class="o">)</span>: 1048576:1048576
2023/04/09 02:31:40 <span class="o">[</span>notice] 1#1: start worker processes
2023/04/09 02:31:40 <span class="o">[</span>notice] 1#1: start worker process 29
2023/04/09 02:31:40 <span class="o">[</span>notice] 1#1: start worker process 30
</code></pre></div></div>

<p>Nah jika temen-temen perhatikan, pada deployment <code class="language-plaintext highlighter-rouge">nginx-deploy</code> memiliki lebih dari 1 pod tetapi yang ditampilkan adalah pod yang pertama by default yaitu <code class="language-plaintext highlighter-rouge">pod/nginx-deploy-c9bcb48d4-dzg7p</code></p>

<p>Selanjutnya, jika kita mau meng-execute command dalam container dari object deployment bisa menggunakan perintah <code class="language-plaintext highlighter-rouge">kubectl exec deploy/&lt;deploy-name&gt; -- &lt;command&gt;</code> seperti berikut contohnya:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl <span class="nb">exec </span>deploy/nginx-deploy <span class="nt">--</span> curl https://jsonplaceholder.typicode.com/todos/1 <span class="nt">-v</span></code></pre></figure>

<p>Maka hasilnya seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl <span class="nb">exec </span>deploy/nginx-deploy <span class="nt">--</span> curl https://jsonplaceholder.typicode.com/todos/1 <span class="nt">-v</span>
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 <span class="nt">--</span>:--:-- <span class="nt">--</span>:--:-- <span class="nt">--</span>:--:--     0<span class="k">*</span>   Trying 104.21.54.83:443...
<span class="o">&gt;</span> GET /todos/1 HTTP/2
<span class="o">&gt;</span> Host: jsonplaceholder.typicode.com
<span class="o">&gt;</span> user-agent: curl/7.74.0
<span class="o">&gt;</span> accept: <span class="k">*</span>/<span class="k">*</span>
<span class="o">&gt;</span>
&lt; report-to: <span class="o">{</span><span class="s2">"endpoints"</span>:[<span class="o">{</span><span class="s2">"url"</span>:<span class="s2">"https:</span><span class="se">\/\/</span><span class="s2">a.nel.cloudflare.com</span><span class="se">\/</span><span class="s2">report</span><span class="se">\/</span><span class="s2">v3?s=vGRPnjpH6UP1fT0COF95QYK5RIuA2jrZPx1H6jsOVkWrVhLGjRAZYkd1izYBf04YbE4JXWKihCdw1YLrZJZBxAIMLCCW7ViJ6QUbOx%2F06hsARokb7XjEJ%2FUoacL9So%2BACJ%2BGsdUqgOuXf9w5HYUp"</span><span class="o">}]</span>,<span class="s2">"group"</span>:<span class="s2">"cf-nel"</span>,<span class="s2">"max_age"</span>:604800<span class="o">}</span>
&lt; nel: <span class="o">{</span><span class="s2">"success_fraction"</span>:0,<span class="s2">"report_to"</span>:<span class="s2">"cf-nel"</span>,<span class="s2">"max_age"</span>:604800<span class="o">}</span>
&lt; server: cloudflare
&lt; cf-ray: 7b4f65c4a8254b80-SIN
&lt; alt-svc: <span class="nv">h3</span><span class="o">=</span><span class="s2">":443"</span><span class="p">;</span> <span class="nv">ma</span><span class="o">=</span>86400, h3-29<span class="o">=</span><span class="s2">":443"</span><span class="p">;</span> <span class="nv">ma</span><span class="o">=</span>86400
&lt;
<span class="o">{</span> <span class="o">[</span>83 bytes data]
<span class="o">{</span>
  <span class="s2">"userId"</span>: 1,
  <span class="s2">"id"</span>: 1,
  <span class="s2">"title"</span>: <span class="s2">"delectus aut autem"</span>,
  <span class="s2">"completed"</span>: <span class="nb">false
</span>100    83  100    83    0     0   1136      0 <span class="nt">--</span>:--:-- <span class="nt">--</span>:--:-- <span class="nt">--</span>:--:--  1136
<span class="k">*</span> Connection <span class="c">#0 to host jsonplaceholder.typicode.com left intact</span>
</code></pre></div></div>

<p>Kemudian jika kita mau me-restart semua pod sekaligus dalam object deployment kita bisa menggunakan perintah <code class="language-plaintext highlighter-rouge">kubectl rollout restart deploy/&lt;deploy-name&gt;</code> seperti berikut contohnya:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl rollout restart deploy/nginx-deploy</code></pre></figure>

<p>Jika dijalankan maka hasilnya seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl rollout restart deploy/nginx-deploy <span class="o">&amp;&amp;</span> <span class="se">\</span>
cmdand&gt; kubectl get pod <span class="nt">-w</span>
deployment.apps/nginx-deploy restarted
NAME                           READY   STATUS              RESTARTS   AGE
nginx-deploy-c9bcb48d4-dzg7p   1/1     Running             0          14m
nginx-deploy-c9bcb48d4-nrq4k   1/1     Running             0          14m
nginx-deploy-c9bcb48d4-qgf9d   1/1     Running             0          14m
nginx-deploy-fdd7c9d69-zw8xn   0/1     ContainerCreating   0          0s
nginx-deploy-fdd7c9d69-zw8xn   1/1     Running             0          16s
nginx-deploy-c9bcb48d4-nrq4k   1/1     Terminating         0          14m
nginx-deploy-fdd7c9d69-28pm7   0/1     ContainerCreating   0          0s
nginx-deploy-c9bcb48d4-nrq4k   0/1     Terminating         0          14m
nginx-deploy-fdd7c9d69-28pm7   1/1     Running             0          16s
nginx-deploy-c9bcb48d4-qgf9d   1/1     Terminating         0          14m
nginx-deploy-fdd7c9d69-jh872   0/1     ContainerCreating   0          0s
nginx-deploy-fdd7c9d69-jh872   1/1     Running             0          1s
nginx-deploy-c9bcb48d4-dzg7p   1/1     Terminating         0          14m
nginx-deploy-c9bcb48d4-dzg7p   0/1     Terminating         0          14m
</code></pre></div></div>

<p>Okay nah itu adalah salah satu interacation yang paling simple pada object deployment, Untuk update deployment spec, rolling back to previews version akan di bahas pada section selanjutnya ya supaya tidak terlalu panjang.</p>

<h3 id="updating-a-deployment">Updating a Deployment</h3>

<p>Ada beberapa cara melakukan update suatu Deployment object pada kubernetes</p>

<ol>
  <li>Using <code class="language-plaintext highlighter-rouge">kubectl set</code> command</li>
  <li>Using <code class="language-plaintext highlighter-rouge">kubectl edit deploy/&lt;deploy-name&gt;</code></li>
  <li>Using declarative file kemudian menjalakan <code class="language-plaintext highlighter-rouge">kubectl apply -f</code> command</li>
</ol>

<p>For example, saya mau update image deployment versionnya dari <code class="language-plaintext highlighter-rouge">mainline</code> menjadi <code class="language-plaintext highlighter-rouge">stable-alpine</code> jadi perintahnya seperti berikut:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl <span class="nb">set </span>image deploy/nginx-deploy nginx-deploy<span class="o">=</span>nginx:stable-alpine</code></pre></figure>

<p>Atau alternative lainnya, kita bisa edit secara langsung di kubernetes clusternya dengan menggunakan perintah</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl edit deploy nginx-deploy</code></pre></figure>

<p>Nah jika kita jalankan outputnya seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  kubectl <span class="nb">set </span>image deploy/nginx-deploy nginx-deploy<span class="o">=</span>nginx:stable-alpine
deployment.apps/nginx-deploy image updated

➜  kubectl get rs
NAME                      DESIRED   CURRENT   READY   AGE
nginx-deploy-5c7b8c97f6   3         3         3       2m8s
nginx-deploy-c9bcb48d4    0         0         0       168m

➜  kubectl get pod
NAME                            READY   STATUS    RESTARTS   AGE
nginx-deploy-5c7b8c97f6-jgt2p   1/1     Running   0          2m54s
nginx-deploy-5c7b8c97f6-k7jnf   1/1     Running   0          3m4s
nginx-deploy-5c7b8c97f6-mzg4m   1/1     Running   0          3m16s

➜  kubernetes git:<span class="o">(</span>main<span class="o">)</span> kubectl describe pod/nginx-deploy-5c7b8c97f6-jgt2p
Name:             nginx-deploy-5c7b8c97f6-jgt2p
Namespace:        default
Node:             minikube/192.168.105.9
Labels:           <span class="nv">app</span><span class="o">=</span>nginx
                  <span class="nb">env</span><span class="o">=</span><span class="nb">test
                  </span>pod-template-hash<span class="o">=</span>5c7b8c97f6
Status:           Running
IP:               10.244.0.5
IPs:
  IP:           10.244.0.5
Controlled By:  ReplicaSet/nginx-deploy-5c7b8c97f6
Containers:
  nginx-deploy:
    Image:          nginx:stable-alpine
    Port:           80/TCP
    State:          Running
      Started:      Fri, 07 Apr 2023 17:29:38 +0700
    Ready:          True
    Restart Count:  0
    Environment:    &lt;none&gt;
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Events:
  Type    Reason     Age    From               Message
  <span class="nt">----</span>    <span class="nt">------</span>     <span class="nt">----</span>   <span class="nt">----</span>               <span class="nt">-------</span>
  Normal  Scheduled  3m32s  default-scheduler  Successfully assigned default/nginx-deploy-5c7b8c97f6-jgt2p to minikube
  Normal  Pulling    3m32s  kubelet            Pulling image <span class="s2">"nginx:stable-alpine"</span>
  Normal  Pulled     3m22s  kubelet            Successfully pulled image <span class="s2">"nginx:stable-alpine"</span> <span class="k">in </span>9.54521492s <span class="o">(</span>9.545224254s including waiting<span class="o">)</span>
  Normal  Created    3m22s  kubelet            Created container nginx-deploy
  Normal  Started    3m22s  kubelet            Started container nginx-deploy
</code></pre></div></div>

<p>Get more details on your updated Deployment:</p>

<ol>
  <li>
    <p>After the rollout succeeds, you can view the Deployment by running <code class="language-plaintext highlighter-rouge">kubectl get deployments</code>. The output is similar to this:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> NAME           READY   UP-TO-DATE   AVAILABLE   AGE
 nginx-deploy   3/3     3            3           3h6m
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run <code class="language-plaintext highlighter-rouge">kubectl get rs</code> to see that the Deployment updated the Pods by creating a new ReplicaSet and scaling it up to <code class="language-plaintext highlighter-rouge">3</code> replicas, as well as scaling down the old ReplicaSet to <code class="language-plaintext highlighter-rouge">0</code> replicas.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> NAME                      DESIRED   CURRENT   READY   AGE
 nginx-deploy-5c7b8c97f6   3         3         3       6m33s
 nginx-deploy-c9bcb48d4    0         0         0       173m
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run <code class="language-plaintext highlighter-rouge">kubectl get pod</code>, Running get pods should now show only the new Pods:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> NAME                            READY   STATUS    RESTARTS   AGE
 nginx-deploy-5c7b8c97f6-jgt2p   1/1     Running   0          7m30s
 nginx-deploy-5c7b8c97f6-k7jnf   1/1     Running   0          7m40s
 nginx-deploy-5c7b8c97f6-mzg4m   1/1     Running   0          7m52s
</code></pre></div>    </div>
  </li>
</ol>

<p>Next time you want to update these Pods, you only need to update the Deployment’s Pod template again.</p>

<p>Deployment ensures that only a certain number of Pods are down while they are being updated. By default, it ensures that at least <code class="language-plaintext highlighter-rouge">75%</code> of the desired number of Pods are up (<code class="language-plaintext highlighter-rouge">25%</code> max unavailable).</p>

<p>For example, if you look at the above Deployment closely, you will see that it first creates a new Pod, then deletes an old Pod, and creates another new one. It does not kill old Pods until a sufficient number of new Pods have come up, and does not create new Pods until a sufficient number of old Pods have been killed. It makes sure that at least <code class="language-plaintext highlighter-rouge">3</code> Pods are available and that at max <code class="language-plaintext highlighter-rouge">4</code> Pods in total are available. In case of a Deployment with <code class="language-plaintext highlighter-rouge">4</code> replicas, the number of Pods would be between <code class="language-plaintext highlighter-rouge">3</code> and <code class="language-plaintext highlighter-rouge">5</code>.</p>

<h3 id="rolling-back-a-deployment">Rolling Back a Deployment</h3>

<p>Sometimes, you may want to rollback a Deployment; for example, when the Deployment is not stable, such as crash looping. By default, all of the Deployment’s rollout history is kept in the system so that you can rollback anytime you want (you can change that by modifying revision history limit).</p>

<p>Suppose that you made a typo while updating the Deployment, by putting the image name as <code class="language-plaintext highlighter-rouge">nginx:1.161</code> instead of <code class="language-plaintext highlighter-rouge">nginx:1.16.1</code>:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl <span class="nb">set </span>image deployment/nginx-deploy nginx-deploy<span class="o">=</span>nginx:1.161</code></pre></figure>

<p>Berikut outputnya:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl <span class="nb">set </span>image deployment/nginx-deploy nginx-deploy<span class="o">=</span>nginx:1.161
deployment.apps/nginx-deploy image updated

➜ kubectl get deploy
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
nginx-deploy   3/3     1            3           7m13s

➜ kubectl get rs
NAME                      DESIRED   CURRENT   READY   AGE
nginx-deploy-5c7b8c97f6   3         3         3       7m11s
nginx-deploy-65cbcc896b   1         1         0       36s
nginx-deploy-c9bcb48d4    0         0         0       7m27s

➜ kubectl get pod
NAME                            READY   STATUS         RESTARTS   AGE
nginx-deploy-5c7b8c97f6-6xzfr   1/1     Running        0          7m34s
nginx-deploy-5c7b8c97f6-tvfxv   1/1     Running        0          7m32s
nginx-deploy-5c7b8c97f6-vt5lf   1/1     Running        0          7m33s
nginx-deploy-65cbcc896b-7q6mc   0/1     ErrImagePull   0          59s
</code></pre></div></div>

<p>The rollout gets stuck. You can verify it by checking the rollout status:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl rollout status deploy/nginx-deploy</code></pre></figure>

<p>The output look like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl rollout status deploy/nginx-deploy
Waiting <span class="k">for </span>deployment <span class="s2">"nginx-deploy"</span> rollout to finish: 1 out of 3 new replicas have been updated...
</code></pre></div></div>

<p>Press <code class="language-plaintext highlighter-rouge">Ctrl-C</code> to stop the above rollout status watch. First, check the revisions of this Deployment:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl rollout <span class="nb">history </span>deploy/nginx-deploy</code></pre></figure>

<p>The output look like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl rollout <span class="nb">history </span>deploy/nginx-deploy
deployment.apps/nginx-deploy
REVISION  CHANGE-CAUSE
1         &lt;none&gt;
2         &lt;none&gt;
3         &lt;none&gt;
</code></pre></div></div>

<p>To see the details of each revision, run:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl rollout <span class="nb">history </span>deploy/nginx-deploy <span class="nt">--revision</span><span class="o">=</span>2</code></pre></figure>

<p>The output look like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl rollout <span class="nb">history </span>deploy/nginx-deploy <span class="nt">--revision</span><span class="o">=</span>2
deployment.apps/nginx-deploy with revision <span class="c">#2</span>
Pod Template:
  Labels:	<span class="nv">app</span><span class="o">=</span>nginx
	<span class="nb">env</span><span class="o">=</span><span class="nb">test
	</span>pod-template-hash<span class="o">=</span>5c7b8c97f6
  Containers:
   nginx-deploy:
    Image:	nginx:stable-alpine
    Port:	80/TCP
    Host Port:	0/TCP
    Environment:	&lt;none&gt;
    Mounts:	&lt;none&gt;
  Volumes:	&lt;none&gt;
</code></pre></div></div>

<p>Follow the steps given below to rollback the Deployment from the current version to the previous version, which is version 3.</p>

<p>Now you’ve decided to undo the current rollout and rollback to the previous revision:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl rollout undo deploy/nginx-deploy</code></pre></figure>

<p>The output is similar to this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl rollout undo deploy/nginx-deploy
deployment.apps/nginx-deploy rolled back

➜ kubectl rollout status deploy/nginx-deploy
deployment <span class="s2">"nginx-deploy"</span> successfully rolled out

➜ kubectl get deploy
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
nginx-deploy   3/3     3            3           15m

➜ kubectl get rs
NAME                      DESIRED   CURRENT   READY   AGE
nginx-deploy-5c7b8c97f6   3         3         3       15m
nginx-deploy-65cbcc896b   0         0         0       9m4s
nginx-deploy-c9bcb48d4    0         0         0       15m

➜ kubectl describe deploy nginx-deploy
Name:                   nginx-deploy
Namespace:              default
Labels:                 <span class="nv">app</span><span class="o">=</span>nginx
                        <span class="nb">env</span><span class="o">=</span><span class="nb">test
</span>Annotations:            deployment.kubernetes.io/revision: 4
Selector:               <span class="nv">app</span><span class="o">=</span>nginx,env<span class="o">=</span><span class="nb">test
</span>Replicas:               3 desired | 3 updated | 3 total | 3 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:  <span class="nv">app</span><span class="o">=</span>nginx
           <span class="nb">env</span><span class="o">=</span><span class="nb">test
  </span>Containers:
   nginx-deploy:
    Image:        nginx:stable-alpine
    Port:         80/TCP
    Host Port:    0/TCP
NewReplicaSet:   nginx-deploy-5c7b8c97f6 <span class="o">(</span>3/3 replicas created<span class="o">)</span>
Events:
  Type    Reason             Age    From                   Message
  <span class="nt">----</span>    <span class="nt">------</span>             <span class="nt">----</span>   <span class="nt">----</span>                   <span class="nt">-------</span>
  Normal  ScalingReplicaSet  16m    deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-c9bcb48d4 to 3
  Normal  ScalingReplicaSet  16m    deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-5c7b8c97f6 to 1
  Normal  ScalingReplicaSet  16m    deployment-controller  Scaled down replica <span class="nb">set </span>nginx-deploy-c9bcb48d4 to 2 from 3
  Normal  ScalingReplicaSet  16m    deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-5c7b8c97f6 to 2 from 1
  Normal  ScalingReplicaSet  16m    deployment-controller  Scaled down replica <span class="nb">set </span>nginx-deploy-c9bcb48d4 to 1 from 2
  Normal  ScalingReplicaSet  16m    deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-5c7b8c97f6 to 3 from 2
  Normal  ScalingReplicaSet  16m    deployment-controller  Scaled down replica <span class="nb">set </span>nginx-deploy-c9bcb48d4 to 0 from 1
  Normal  ScalingReplicaSet  9m42s  deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-65cbcc896b to 1
  Normal  ScalingReplicaSet  97s    deployment-controller  Scaled down replica <span class="nb">set </span>nginx-deploy-65cbcc896b to 0 from 1
</code></pre></div></div>

<p>Alternatively, you can rollback to a specific revision by specifying it with <code class="language-plaintext highlighter-rouge">--to-revision</code>:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl rollout undo deploy/nginx-deploy <span class="nt">--to-revision</span> 1</code></pre></figure>

<p>The output is similar to this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl rollout undo deploy/nginx-deploy <span class="nt">--to-revision</span> 1
deployment.apps/nginx-deploy rolled back

➜ kubectl rollout status deploy/nginx-deploy
deployment <span class="s2">"nginx-deploy"</span> successfully rolled out

➜ kubectl get deploy
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
nginx-deploy   3/3     3            3           19m

➜ kubectl get rs
NAME                      DESIRED   CURRENT   READY   AGE
nginx-deploy-5c7b8c97f6   0         0         0       19m
nginx-deploy-65cbcc896b   0         0         0       12m
nginx-deploy-c9bcb48d4    3         3         3       19m

➜ kubectl describe deploy nginx-deploy
Name:                   nginx-deploy
Namespace:              default
Labels:                 <span class="nv">app</span><span class="o">=</span>nginx
                        <span class="nb">env</span><span class="o">=</span><span class="nb">test
</span>Annotations:            deployment.kubernetes.io/revision: 5
Selector:               <span class="nv">app</span><span class="o">=</span>nginx,env<span class="o">=</span><span class="nb">test
</span>Replicas:               3 desired | 3 updated | 3 total | 3 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:  <span class="nv">app</span><span class="o">=</span>nginx
           <span class="nb">env</span><span class="o">=</span><span class="nb">test
  </span>Containers:
   nginx-deploy:
    Image:        nginx:mainline
    Port:         80/TCP
    Host Port:    0/TCP

NewReplicaSet:   nginx-deploy-c9bcb48d4 <span class="o">(</span>3/3 replicas created<span class="o">)</span>
Events:
  Type    Reason             Age                From                   Message
  <span class="nt">----</span>    <span class="nt">------</span>             <span class="nt">----</span>               <span class="nt">----</span>                   <span class="nt">-------</span>
  Normal  ScalingReplicaSet  19m                deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-c9bcb48d4 to 3
  Normal  ScalingReplicaSet  19m                deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-5c7b8c97f6 to 1
  Normal  ScalingReplicaSet  19m                deployment-controller  Scaled down replica <span class="nb">set </span>nginx-deploy-c9bcb48d4 to 2 from 3
  Normal  ScalingReplicaSet  19m                deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-5c7b8c97f6 to 2 from 1
  Normal  ScalingReplicaSet  19m                deployment-controller  Scaled down replica <span class="nb">set </span>nginx-deploy-c9bcb48d4 to 1 from 2
  Normal  ScalingReplicaSet  19m                deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-5c7b8c97f6 to 3 from 2
  Normal  ScalingReplicaSet  19m                deployment-controller  Scaled down replica <span class="nb">set </span>nginx-deploy-c9bcb48d4 to 0 from 1
  Normal  ScalingReplicaSet  12m                deployment-controller  Scaled up replica <span class="nb">set </span>nginx-deploy-65cbcc896b to 1
  Normal  ScalingReplicaSet  4m54s              deployment-controller  Scaled down replica <span class="nb">set </span>nginx-deploy-65cbcc896b to 0 from 1
  Normal  ScalingReplicaSet  61s <span class="o">(</span>x6 over 63s<span class="o">)</span>  deployment-controller  <span class="o">(</span>combined from similar events<span class="o">)</span>: Scaled down replica <span class="nb">set </span>nginx-deploy-5c7b8c97f6 to 0 from 1
</code></pre></div></div>

<h3 id="scalling-the-pods-with-a-deployment">Scalling the pods with a Deployment</h3>

<p>Selain kita bisa meng-update specifikasi pod dan container, kita juga bisa melakukan scalling suatu Deployment object dengan menggunakan beberapa cara yaitu</p>

<ol>
  <li>Using <code class="language-plaintext highlighter-rouge">kubectl scale deploy/&lt;deploy-name&gt; --replicas=&lt;number-of-instance&gt;</code> command</li>
  <li>Using <code class="language-plaintext highlighter-rouge">kubectl edit deploy/&lt;deploy-name&gt;</code></li>
  <li>Update <code class="language-plaintext highlighter-rouge">deployment.yaml</code> file then using <code class="language-plaintext highlighter-rouge">kubectl apply -f</code></li>
</ol>

<p>For example, saya mau update secara langsung dengan perintahnya seperti berikut:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl scale deploy/nginx-deploy <span class="nt">--replicas</span><span class="o">=</span>5</code></pre></figure>

<p>Jika kita coba jalankan maka seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➡ kubectl scale deploy/nginx-deploy <span class="nt">--replicas</span><span class="o">=</span>5
deployment.apps/nginx-deploy scaled

➜  kubernetes git:<span class="o">(</span>main<span class="o">)</span> kubectl get deploy
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
nginx-deploy   5/5     5            5           3m20s

➜  kubernetes git:<span class="o">(</span>main<span class="o">)</span> kubectl get rs
NAME                     DESIRED   CURRENT   READY   AGE
nginx-deploy-c9bcb48d4   5         5         5       3m34s

➜  kubernetes git:<span class="o">(</span>main<span class="o">)</span> kubectl get pod
NAME                           READY   STATUS    RESTARTS   AGE
nginx-deploy-c9bcb48d4-blnpp   1/1     Running   0          69s
nginx-deploy-c9bcb48d4-bsgsr   1/1     Running   0          3m46s
nginx-deploy-c9bcb48d4-rh76q   1/1     Running   0          3m46s
nginx-deploy-c9bcb48d4-sg97l   1/1     Running   0          3m46s
nginx-deploy-c9bcb48d4-tvtq8   1/1     Running   0          69s
</code></pre></div></div>

<h3 id="rollingupdate-a-deployment">RollingUpdate a Deployment</h3>

<p>RollingUpdate Deployments support running multiple versions of an application at the same time. When you or an autoscaler scales a RollingUpdate Deployment that is in the middle of a rollout (either in progress or paused), the Deployment controller balances the additional replicas in the existing active ReplicaSets (ReplicaSets with Pods) in order to mitigate risk. This is called proportional scaling.</p>

<p>For example, you are running a Deployment with 10 replicas, <code class="language-plaintext highlighter-rouge">maxSurge=3</code>, and <code class="language-plaintext highlighter-rouge">maxUnavailable=2</code>. Configuration look like:</p>

<script src="https://gist.github.com/dimMaryanto93/96f6954c9a27a6b1934113b10223196a.js?file=05b-rollingupdate-deployment.yaml"> </script>

<p>Kemudian coba jalankan dengan perintah berikut:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl apply <span class="nt">-f</span> rollingupdate-deployment.yaml</code></pre></figure>

<p>Maka outputnya seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl apply <span class="nt">-f</span> 03-workloads/01-basic-deploy/rollingupdate-deployment.yaml
deployment.apps/rollingupdate-nginx-deploy created

➜ kubectl get deploy rollingupdate-nginx-deploy
NAME                         READY   UP-TO-DATE   AVAILABLE   AGE
rollingupdate-nginx-deploy   10/10   10           10          2m25s

NAME                                   DESIRED   CURRENT   READY   AGE
rollingupdate-nginx-deploy-cd8ddf7d8   10        10        10      9s

➜  kubernetes git:<span class="o">(</span>main<span class="o">)</span> ✗ kubectl get pod
NAME                                         READY   STATUS    RESTARTS   AGE
rollingupdate-nginx-deploy-cd8ddf7d8-7ffkl   1/1     Running   0          30s
rollingupdate-nginx-deploy-cd8ddf7d8-7p5x2   1/1     Running   0          30s
rollingupdate-nginx-deploy-cd8ddf7d8-f2pcm   1/1     Running   0          30s
rollingupdate-nginx-deploy-cd8ddf7d8-fxvbb   1/1     Running   0          30s
rollingupdate-nginx-deploy-cd8ddf7d8-hw67p   1/1     Running   0          30s
rollingupdate-nginx-deploy-cd8ddf7d8-j2zls   1/1     Running   0          30s
rollingupdate-nginx-deploy-cd8ddf7d8-rwln8   1/1     Running   0          30s
rollingupdate-nginx-deploy-cd8ddf7d8-tw8m5   1/1     Running   0          30s
rollingupdate-nginx-deploy-cd8ddf7d8-v5kt2   1/1     Running   0          30s
rollingupdate-nginx-deploy-cd8ddf7d8-zzt44   1/1     Running   0          30s
</code></pre></div></div>

<p>Sekarang kita coba update image menjadi latest dengan perintah berikut:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl <span class="nb">set </span>image deploy/rollingupdate-nginx-deploy <span class="nv">nginx</span><span class="o">=</span>nginx:latest <span class="o">&amp;&amp;</span> <span class="se">\</span>
kubectl get rs <span class="nt">-w</span></code></pre></figure>

<p>Maka outputnya seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl <span class="nb">set </span>image deploy/rollingupdate-nginx-deploy <span class="nv">nginx</span><span class="o">=</span>nginx:latest <span class="o">&amp;&amp;</span> <span class="se">\</span>
kubectl get rs <span class="nt">-w</span>
deployment.apps/rollingupdate-nginx-deploy image updated

NAME                                    DESIRED   CURRENT   READY   AGE
rollingupdate-nginx-deploy-cd8ddf7d8    10        10        10      0s
rollingupdate-nginx-deploy-cd8ddf7d8    8         8         8       1s
rollingupdate-nginx-deploy-77599d4db8   10        10        8       3s
rollingupdate-nginx-deploy-cd8ddf7d8    2         2         2       4s
rollingupdate-nginx-deploy-cd8ddf7d8    0         0         0       4s
rollingupdate-nginx-deploy-77599d4db8   10        10        10      5s
</code></pre></div></div>

<h3 id="pause-and-resume-rollout-of-a-deployment">Pause and Resume rollout of a Deployment</h3>

<p>When you update a Deployment, or plan to, you can pause rollouts for that Deployment before you trigger one or more updates. When you’re ready to apply those changes, you resume rollouts for the Deployment. This approach allows you to apply multiple fixes in between pausing and resuming without triggering unnecessary rollouts.</p>

<p>For example:</p>

<p>Get the rollout status:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl get rs</code></pre></figure>

<p>Jika dijalankan outputnya seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl get deploy
NAME                         READY   UP-TO-DATE   AVAILABLE   AGE
rollingupdate-nginx-deploy   10/10   10           10          33m

➜ kubectl get rs
NAME                                    DESIRED   CURRENT   READY   AGE
rollingupdate-nginx-deploy-77599d4db8   10        10        10      26m
</code></pre></div></div>

<p>Pause by running the following command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl rollout pause deploy/rollingupdate-nginx-deploy</code></pre></figure>

<p>Then when you update the deployment, such as image version using <code class="language-plaintext highlighter-rouge">kubectl set image deploy/rollingupdate-nginx-deploy nginx=nginx:1.16.1</code> The output look like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl rollout pause deploy/rollingupdate-nginx-deploy
deployment.apps/rollingupdate-nginx-deploy paused

➜ kubectl <span class="nb">set </span>image deploy/rollingupdate-nginx-deploy <span class="nv">nginx</span><span class="o">=</span>nginx:1.16.1
deployment.apps/rollingupdate-nginx-deploy image updated

➜ kubectl rollout <span class="nb">history </span>deploy/rollingupdate-nginx-deploy
deployment.apps/rollingupdate-nginx-deploy
REVISION  CHANGE-CAUSE
1         &lt;none&gt;
2         &lt;none&gt;

➜ kubectl rollout status deploy/rollingupdate-nginx-deploy
Waiting <span class="k">for </span>deployment <span class="s2">"rollingupdate-nginx-deploy"</span> rollout to finish: 0 out of 10 new replicas have been updated...

➜  kubernetes git:<span class="o">(</span>main<span class="o">)</span> kubectl describe deploy rollingupdate-nginx-deploy
Name:                   rollingupdate-nginx-deploy
Namespace:              default
CreationTimestamp:      Sat, 08 Apr 2023 15:52:55 +0700
Labels:                 <span class="nv">app</span><span class="o">=</span>nginx
                        <span class="nb">env</span><span class="o">=</span><span class="nb">test
</span>Annotations:            deployment.kubernetes.io/revision: 2
Selector:               <span class="nv">app</span><span class="o">=</span>nginx,env<span class="o">=</span><span class="nb">test
</span>Replicas:               10 desired | 0 updated | 10 total | 10 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  2 max unavailable, 3 max surge
Pod Template:
  Labels:  <span class="nv">app</span><span class="o">=</span>nginx
           <span class="nb">env</span><span class="o">=</span><span class="nb">test
  </span>Containers:
   nginx:
    Image:        nginx:1.16.1
    Port:         80/TCP
    Host Port:    0/TCP
Conditions:
  Type           Status   Reason
  <span class="nt">----</span>           <span class="nt">------</span>   <span class="nt">------</span>
  Available      True     MinimumReplicasAvailable
  Progressing    Unknown  DeploymentPaused
OldReplicaSets:  rollingupdate-nginx-deploy-77599d4db8 <span class="o">(</span>10/10 replicas created<span class="o">)</span>
NewReplicaSet:   &lt;none&gt;
</code></pre></div></div>

<p>Notice that no new rollout started, because the object has been pause. to solve this you need run resume rollout with this command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl rollout resume deploy/rollingupdate-nginx-deploy</code></pre></figure>

<p>Maka outputnya seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜ kubectl rollout status deploy/rollingupdate-nginx-deploy
deployment <span class="s2">"rollingupdate-nginx-deploy"</span> successfully rolled out

➜ kubectl rollout <span class="nb">history </span>deploy/rollingupdate-nginx-deploy
deployment.apps/rollingupdate-nginx-deploy
REVISION  CHANGE-CAUSE
1         &lt;none&gt;
2         &lt;none&gt;
3         &lt;none&gt;

➜ kubectl describe deploy/rollingupdate-nginx-deploy
Name:                   rollingupdate-nginx-deploy
Namespace:              default
CreationTimestamp:      Sat, 08 Apr 2023 15:52:55 +0700
Labels:                 <span class="nv">app</span><span class="o">=</span>nginx
                        <span class="nb">env</span><span class="o">=</span><span class="nb">test
</span>Annotations:            deployment.kubernetes.io/revision: 3
Selector:               <span class="nv">app</span><span class="o">=</span>nginx,env<span class="o">=</span><span class="nb">test
</span>Replicas:               10 desired | 10 updated | 10 total | 10 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  2 max unavailable, 3 max surge
Pod Template:
  Labels:  <span class="nv">app</span><span class="o">=</span>nginx
           <span class="nb">env</span><span class="o">=</span><span class="nb">test
  </span>Containers:
   nginx:
    Image:        nginx:1.16.1
    Port:         80/TCP
    Host Port:    0/TCP
Conditions:
  Type           Status  Reason
  <span class="nt">----</span>           <span class="nt">------</span>  <span class="nt">------</span>
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
NewReplicaSet:   rollingupdate-nginx-deploy-679cf9c85d <span class="o">(</span>10/10 replicas created<span class="o">)</span>
</code></pre></div></div>

<h2 id="status-of-a-deployment-object">Status of a Deployment object</h2>

<p>A Deployment enters various states during its lifecycle.</p>

<ol>
  <li>It can be <code class="language-plaintext highlighter-rouge">progressing</code> while rolling out a new ReplicaSet,</li>
  <li>it can be <code class="language-plaintext highlighter-rouge">complete</code>,</li>
  <li>or it can <code class="language-plaintext highlighter-rouge">fail</code> to progress.</li>
</ol>

<p>To check status you can use this command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">kubectl describe deploy/&lt;object-name&gt;</code></pre></figure>

<p>Untuk informasi status temen-temen bisa check di property <code class="language-plaintext highlighter-rouge">conditions:</code> seperti berikut:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~ ➡ kubectl describe deploy/nginx-deploy
<span class="c"># &lt;...&gt;</span>
Conditions:
  Type           Status  Reason
  <span class="nt">----</span>           <span class="nt">------</span>  <span class="nt">------</span>
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
</code></pre></div></div>

        
        <div class="text-right">
          <!--  -->












<nav>
  <ul class="pagination text-right">
    <!-- goto first page -->
    <li id="first_post" class="page-item">
      
      <a href="/posts/devops/orchestration/kubernetes/01-silabus"  class="" title="Silabus - DevOps Kubernetes: Pemula sampai Mahir">
        First page
      </a>
      
    </li>
    <li id="previous_page" class="page-item">
      
      <a href="/posts/devops/orchestration/kubernetes/pods/04b-study-cases-microservice-backend-apps" class="" 
        title="Study cases: Microservice apps (Springboot Rest API)
">
        <i class="fas fa-chevron-left"></i>
      </a>
       
    </li>
    <li class="page-item">
      <a href="#" class=" disabled">
        Page 36 to 36
      </a>
    </li>
    <li id="next_page" class="page-item">
      
      <a href="#" class=" disabled">
        <i class="fas fa-chevron-right"></i>
      </a>
      
    </li>
    <li id="last_post" class="page-item">
      
      <a href="#" class=" disabled">
        Last page
      </a>
      
    </li>
  </ul>
</nav>

<a href="#page-title" class="back-to-top">Back to top &uarr;</a>
        </div>
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#devops" class="page__taxonomy-item p-category" rel="tag">DevOps</a><span class="sep">, </span>
    
      <a href="/categories/#kubernetes" class="page__taxonomy-item p-category" rel="tag">Kubernetes</a><span class="sep">, </span>
    
      <a href="/categories/#orchestration" class="page__taxonomy-item p-category" rel="tag">Orchestration</a><span class="sep">, </span>
    
      <a href="/categories/#workloads" class="page__taxonomy-item p-category" rel="tag">Workloads</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2023-04-29T11:51:37+07:00">April 29, 2023</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Working+with+Deployment+object%20%2Fposts%2Fdevops%2Forchestration%2Fkubernetes%2Fworkloads%2F05b-deployment" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=%2Fposts%2Fdevops%2Forchestration%2Fkubernetes%2Fworkloads%2F05b-deployment" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=%2Fposts%2Fdevops%2Forchestration%2Fkubernetes%2Fworkloads%2F05b-deployment" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">You may also enjoy</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.png" alt="">
      </div>
    
    <h3 class="archive__item-title no_toc" itemprop="headline">
      
        <a class="btn btn-sm btn-light text-nowrap" href="/posts/devops/automation/ansible/basic/00-silabus-ansible" rel="permalink">Silabus Ansible: Pemula sampai Mahir
</a>
      
    </h3>
    
<p class="page__meta">

  
  
    <a href="/pages/cources/ansible" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      Ansible Automation Platform
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2023-07-02T07:26:30+07:00">July 2, 2023</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        less than 1 minute read
      
    </span>
  
    

</p>

        
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.png" alt="">
      </div>
    
    <h3 class="archive__item-title no_toc" itemprop="headline">
      
        <a class="btn btn-sm btn-light text-nowrap" href="/posts/git/gitlab/gitlab-ci/03d-getting-started" rel="permalink">Getting started: Create and run your first Gitlab CI/CD pipeline
</a>
      
    </h3>
    
<p class="page__meta">

  
  
    <a href="/pages/cources/gitlab" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      GitOps with Gitlab
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2023-06-18T15:30:55+07:00">June 18, 2023</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        8 minute read
      
    </span>
  
    

</p>

        
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.png" alt="">
      </div>
    
    <h3 class="archive__item-title no_toc" itemprop="headline">
      
        <a class="btn btn-sm btn-light text-nowrap" href="/posts/git/gitlab/gitlab-ci/03c-setup-gitlab-ci" rel="permalink">Settings up Gitlab CI (on-premise)
</a>
      
    </h3>
    
<p class="page__meta">

  
  
    <a href="/pages/cources/gitlab" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      GitOps with Gitlab
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2023-06-17T21:12:16+07:00">June 17, 2023</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        8 minute read
      
    </span>
  
    

</p>

        
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.png" alt="">
      </div>
    
    <h3 class="archive__item-title no_toc" itemprop="headline">
      
        <a class="btn btn-sm btn-light text-nowrap" href="/posts/git/gitlab/gitlab-ci/03b-introduction-gitlab-ci" rel="permalink">Introduction of Gitlab DevSecOps Platform
</a>
      
    </h3>
    
<p class="page__meta">

  
  
    <a href="/pages/cources/gitlab" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      GitOps with Gitlab
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2023-06-17T20:36:43+07:00">June 17, 2023</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        2 minute read
      
    </span>
  
    

</p>

        
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

<script>
function showCourceContent(data){
  if(data) {
    $('body').removeClass('wide');
    $('#cource_contents').show();
  } else {
    $('body').addClass('wide');
    $('#cource_contents').hide();
  }
}

</script>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://facebook.com/dimmaryanto93/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
          <li><a href="https://github.com/dimmaryanto93" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://instagram.com/dimmaryanto93" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
        
          <li><a href="https://www.youtube.com/@DimasMaryanto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-youtube" aria-hidden="true"></i> Youtube</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 Dimas maryanto. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
