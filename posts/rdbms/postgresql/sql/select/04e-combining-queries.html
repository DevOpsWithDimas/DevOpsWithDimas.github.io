<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Combining Queries (UNION, INTERSECT, EXCEPT) - DevOps with Dimas Maryanto</title>
<meta name="description" content="Hai semuanya, di materi kali ini kita akan membahas tentang Menggabungkan beberapa query menjadi suatu resutlset atau klo bahas kerennya Combining Queries. Pada combining queries ini ada beberapa macam teknik atau metode diataranya     UNION   INTERSECT   EXCEPT   Dari setiap method tersebut memiliki fungsinya masing-masing, Untuk lebih jelasnya yukk langsung aja kita bahas satu-per-satu">


  <meta name="author" content="Dimas Maryanto">
  
  <meta property="article:author" content="Dimas Maryanto">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="DevOps with Dimas Maryanto">
<meta property="og:title" content="Combining Queries (UNION, INTERSECT, EXCEPT)">
<meta property="og:url" content="/posts/rdbms/postgresql/sql/select/04e-combining-queries">


  <meta property="og:description" content="Hai semuanya, di materi kali ini kita akan membahas tentang Menggabungkan beberapa query menjadi suatu resutlset atau klo bahas kerennya Combining Queries. Pada combining queries ini ada beberapa macam teknik atau metode diataranya     UNION   INTERSECT   EXCEPT   Dari setiap method tersebut memiliki fungsinya masing-masing, Untuk lebih jelasnya yukk langsung aja kita bahas satu-per-satu">







  <meta property="article:published_time" content="2022-06-21T21:05:03+07:00">





  

  


<link rel="canonical" href="/posts/rdbms/postgresql/sql/select/04e-combining-queries">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Dimas maryanto",
      "url": "/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="DevOps with Dimas Maryanto Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



<script src="/assets/js/jquery/jquery-3.6.4.min.js"></script>
    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/favicon/site.webmanifest">
<link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/logo.png" alt="DevOps with Dimas Maryanto"></a>
        
        <a class="site-title" href="/">
          DevOps with Dimas Maryanto
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/pages/recent-posts/">Archives</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/cources/">Cources</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/roadmaps/">Roadmaps</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/private-class/">Private class</a>
            </li><li class="masthead__menu-item">
              <a href="/pages/discount/">Promo</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <img src="/assets/images/profile.jpeg" alt="Dimas Maryanto" itemprop="image" class="u-photo">
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      Dimas Maryanto
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>I am an <strong>Instructure</strong> at Udemy and 
<strong>Chief Technology Officer</strong> at PT. Tabeldata Informatika</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  <hr>
  

  

  

  
    
    
  
  
  
  <nav class="toc">
    <header>
      <h4 class="nav__title">
        <i class="fas fa-file-alt"></i> 
        On this page
      </h4>
    </header>
    <ul class="toc__menu"><li><a href="#using-union-queries">Using UNION queries</a></li><li><a href="#using-intersect-queries">Using INTERSECT queries</a></li><li><a href="#using-except-queries">Using EXCEPT queries</a></li><li><a href="#using-combination-all-of-them">Using Combination all of them</a></li></ul>

  </nav>
  
  </div>




  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Combining Queries (UNION, INTERSECT, EXCEPT)">
    <meta itemprop="description" content="Hai semuanya, di materi kali ini kita akan membahas tentang Menggabungkan beberapa query menjadi suatu resutlset atau klo bahas kerennya Combining Queries. Pada combining queries ini ada beberapa macam teknik atau metode diataranya  UNION  INTERSECT  EXCEPTDari setiap method tersebut memiliki fungsinya masing-masing, Untuk lebih jelasnya yukk langsung aja kita bahas satu-per-satu">
    <meta itemprop="datePublished" content="2022-06-21T21:05:03+07:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="/posts/rdbms/postgresql/sql/select/04e-combining-queries" class="u-url" itemprop="url">Combining Queries (UNION, INTERSECT, EXCEPT)
</a>
          </h1>
          
<p class="page__meta">

  
  
    <a href="/pages/cources/postgres-query" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      PostgreSQL
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2022-06-21T21:05:03+07:00">June 21, 2022</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-clock" aria-hidden="true"></i>
      
        5 minute read
      
    </span>
  
    

</p>

        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <div class="text-right">
          <label class="switch">
            <input name="cource-content" onchange="showCourceContent(this.checked)" type="checkbox">
            <span class="slider"></span>
          </label>
        </div>        
        <aside id="cource_contents" style="display: none;" class="sidebar__right">
          
            
            
            
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Pengenalan PostgreSQL">
        <label class="acordion-item-label" for="content-Pengenalan PostgreSQL">
            Pengenalan PostgreSQL
        </label>
        <div class="acordion-item-content">
            <ul>
            
                
                <li>
                    <a href="/posts/rdbms/postgresql/01-silabus-psql">
                        
                        Silabus - PostgreSQL: Pemul...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/01a-what-is-postgresql">
                        
                        Overview of PostgreSQL Data...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/01b-postgresql-architecture">
                        
                        Architecture of PostgreSQL ...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/01c-postgresql-database">
                        
                        Overview of Object Relation...
                    </a>
                </li>
                
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Getting started">
        <label class="acordion-item-label" for="content-Getting started">
            Getting started
        </label>
        <div class="acordion-item-content">
            <ul>
            
                
                <li>
                    <a href="/posts/rdbms/postgresql/getting-started/02-overview-install-postgres">
                        
                        Overview Installing PostgreSQL
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/getting-started/02a-install-postgresql-windows">
                        
                        Install PostgreSQL for Wind...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/getting-started/02a-install-postgresql-mac">
                        
                        Install PostgreSQL for Mac ...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/getting-started/02a-install-postgresql-linux-ubuntu">
                        
                        Install PostgreSQL for Linu...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/getting-started/02a-install-postgresql-docker">
                        
                        Install PostgreSQL using Do...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/getting-started/02b-use-psql">
                        
                        Using psql as PostgreSQL ed...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/getting-started/02c-use-pgadmin">
                        
                        Using pgAdmin4 as PostgreSQ...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/getting-started/02d-use-third-party-editors">
                        
                        Using thirdparty Editor unt...
                    </a>
                </li>
                
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-SQL - Select Statement">
        <label class="acordion-item-label" for="content-SQL - Select Statement">
            SQL - Select Statement
        </label>
        <div class="acordion-item-content">
            <ul>
            
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/03-overview-sql">
                        
                        Overview SQL Select statements
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/03a-basic-select-statement">
                        
                        Basic SQL Select statements
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/03b-sql-operators">
                        
                        Build-in Operators
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/03c-sql-functions">
                        
                        Build-in Functions
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/03d-where-clause">
                        
                        Filtering data with WHERE c...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/03e-order-by-clause">
                        
                        Sorting rows using ORDER BY...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/03f-limit-offset-clause">
                        
                        Limit dan Offset rows
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/03g-quis-section-1">
                        
                        Time your practice (part 1)
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/04-overview-more-select-statements">
                        
                        Deep dive into Select State...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/04a-single-group-function">
                        
                        Single Row / Group functions
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/04b-join-tables">
                        
                        Joined Tables
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/04c-subquery">
                        
                        Queries inside a query (sub...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/04d-conditional-expression">
                        
                        Conditional Expressions
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/04e-combining-queries">
                        
                        <i class="fas fa-bookmark"></i>
                        
                        Combining Queries (UNION, I...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/04f-with-queries">
                        
                        WITH Queries (Common Table ...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/select/04g-quis-section-2">
                        
                        Time your practice (part 2)
                    </a>
                </li>
                
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-SQL - Data manipulation">
        <label class="acordion-item-label" for="content-SQL - Data manipulation">
            SQL - Data manipulation
        </label>
        <div class="acordion-item-content">
            <ul>
            
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/dml/05-overview-dml">
                        
                        Overview of Data Manipulati...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/dml/05a-cud-statement">
                        
                        Basic Create, Update, Delet...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/dml/05b-dml-insert">
                        
                        Deep dive into INSERT State...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/dml/05c-dml-update">
                        
                        Deep dive into UPDATE State...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/dml/05d-dml-delete">
                        
                        Deep dive into DELETE state...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/dml/05e-dml-prepared-statement">
                        
                        Prepared Statement in SQL
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/dml/05f-dml-cleanup">
                        
                        Cleanup Data from Table
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/dml/05g-quis-section-1">
                        
                        Time your practice (part 3)
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/tcl/06-overview-concurrent-control">
                        
                        Overview of Concurrency Con...
                    </a>
                </li>
                
                <li>
                    <a href="/posts/rdbms/postgresql/sql/tcl/06a-basic-tcl">
                        
                        Getting started with Transa...
                    </a>
                </li>
                
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-SQL - Data definition">
        <label class="acordion-item-label" for="content-SQL - Data definition">
            SQL - Data definition
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Study Kasus: Database design (Mapping)">
        <label class="acordion-item-label" for="content-Study Kasus: Database design (Mapping)">
            Study Kasus: Database design (Mapping)
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-SQL - Indexes">
        <label class="acordion-item-label" for="content-SQL - Indexes">
            SQL - Indexes
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-SQL - Users Management">
        <label class="acordion-item-label" for="content-SQL - Users Management">
            SQL - Users Management
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
              
                
                
                



<div class="accordion-container">
    <div class="acordion-item">
        <input type="checkbox" id="content-Type Conversion">
        <label class="acordion-item-label" for="content-Type Conversion">
            Type Conversion
        </label>
        <div class="acordion-item-content">
            <ul>
            
            <li>
                <a href="#!">Materi belum tersedia</a>
            </li>
            
            </ul>
        </div>
    </div>
</nav>
                
                      
          
        </aside>
        
        <p>Hai semuanya, di materi kali ini kita akan membahas tentang Menggabungkan beberapa query menjadi suatu resutlset atau klo bahas kerennya Combining Queries. Pada combining queries ini ada beberapa macam teknik atau metode diataranya</p>

<ol>
  <li>UNION</li>
  <li>INTERSECT</li>
  <li>EXCEPT</li>
</ol>

<p>Dari setiap method tersebut memiliki fungsinya masing-masing, Untuk lebih jelasnya yukk langsung aja kita bahas satu-per-satu</p>

<!--more-->

<h2 id="using-union-queries">Using UNION queries</h2>

<p><code class="language-plaintext highlighter-rouge">UNION</code> effectively appends the result of <strong>query2</strong> to the result of <strong>query1</strong> (although there is no guarantee that this is the order in which the rows are actually returned). Furthermore, it eliminates duplicate rows from its result, in the same way as <code class="language-plaintext highlighter-rouge">DISTINCT</code>, unless <code class="language-plaintext highlighter-rouge">UNION ALL</code> is used.</p>

<p>The syntax:</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">select</span> <span class="p">...</span> <span class="k">from</span> <span class="p">...</span> 
<span class="k">UNION</span> <span class="p">[</span> <span class="k">distinct</span> <span class="o">|</span> <span class="k">ALL</span> <span class="p">]</span>
<span class="k">select</span> <span class="p">...</span> <span class="k">from</span> <span class="p">...</span></code></pre></figure>

<p>Berikut adalah contohnya</p>

<script src="https://gist.github.com/dimMaryanto93/7ae7632f9418feb724bc431eff412a3f.js?file=04e-select-union-distinct.sql"> </script>

<p>Jika dijalankan maka hasilnya seperti berikut:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hr</span><span class="o">=#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data1</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">union</span> <span class="k">distinct</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'abdul'</span><span class="p">,</span> <span class="s1">'Abdul Rahman'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data2</span><span class="p">;</span>
 <span class="n">column1</span> <span class="o">|</span> <span class="n">column2</span>  <span class="o">|</span>     <span class="n">column3</span>     <span class="o">|</span> <span class="n">column4</span> 
<span class="c1">---------+----------+-----------------+---------</span>
       <span class="mi">4</span> <span class="o">|</span> <span class="n">abdul</span>    <span class="o">|</span> <span class="n">Abdul</span> <span class="n">Rahman</span>    <span class="o">|</span> <span class="n">f</span>
       <span class="mi">3</span> <span class="o">|</span> <span class="n">mpurwadi</span> <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Purwadi</span> <span class="o">|</span> <span class="n">f</span>
       <span class="mi">2</span> <span class="o">|</span> <span class="n">myusuf</span>   <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Yusuf</span>   <span class="o">|</span> <span class="n">t</span>
       <span class="mi">1</span> <span class="o">|</span> <span class="n">dimasm93</span> <span class="o">|</span> <span class="n">Dimas</span> <span class="n">Maryanto</span>  <span class="o">|</span> <span class="n">t</span>
<span class="p">(</span><span class="mi">4</span> <span class="k">rows</span><span class="p">)</span>
</code></pre></div></div>

<p>Nah jadi klo temen-temen perhatikan dari hasil diatas, hasilnya akan dibersihkan dari nilai yang redudansi (duplicate). Klausa <code class="language-plaintext highlighter-rouge">UNION</code> by default menggunakan <code class="language-plaintext highlighter-rouge">DISTINCT</code>, jadi akan memfilter nilai yang duplicate. Jika mau menampilkan semuanya kita bisa klausa <code class="language-plaintext highlighter-rouge">UNION ALL</code> seperti berikut:</p>

<script src="https://gist.github.com/dimMaryanto93/7ae7632f9418feb724bc431eff412a3f.js?file=04e-select-union-all.sql"> </script>

<p>Jika dijalankan hasilnya seperti berikut:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hr</span><span class="o">=#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data1</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">union</span> <span class="k">all</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'abdul'</span><span class="p">,</span> <span class="s1">'Abdul Rahman'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data2</span><span class="p">;</span>
 <span class="n">column1</span> <span class="o">|</span> <span class="n">column2</span>  <span class="o">|</span>     <span class="n">column3</span>     <span class="o">|</span> <span class="n">column4</span> 
<span class="c1">---------+----------+-----------------+---------</span>
       <span class="mi">1</span> <span class="o">|</span> <span class="n">dimasm93</span> <span class="o">|</span> <span class="n">Dimas</span> <span class="n">Maryanto</span>  <span class="o">|</span> <span class="n">t</span>
       <span class="mi">2</span> <span class="o">|</span> <span class="n">myusuf</span>   <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Yusuf</span>   <span class="o">|</span> <span class="n">t</span>
       <span class="mi">3</span> <span class="o">|</span> <span class="n">mpurwadi</span> <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Purwadi</span> <span class="o">|</span> <span class="n">f</span>
       <span class="mi">1</span> <span class="o">|</span> <span class="n">dimasm93</span> <span class="o">|</span> <span class="n">Dimas</span> <span class="n">Maryanto</span>  <span class="o">|</span> <span class="n">t</span>
       <span class="mi">4</span> <span class="o">|</span> <span class="n">abdul</span>    <span class="o">|</span> <span class="n">Abdul</span> <span class="n">Rahman</span>    <span class="o">|</span> <span class="n">f</span>
<span class="p">(</span><span class="mi">5</span> <span class="k">rows</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="using-intersect-queries">Using <code class="language-plaintext highlighter-rouge">INTERSECT</code> queries</h2>

<p><code class="language-plaintext highlighter-rouge">INTERSECT</code> returns all rows that are both in the result of <strong>query1</strong> and in the result of <strong>query2</strong>. Duplicate rows are eliminated unless <code class="language-plaintext highlighter-rouge">INTERSECT ALL</code> is used.</p>

<p>The syntax:</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">select</span> <span class="p">...</span> <span class="k">from</span> <span class="p">...</span> 
<span class="k">INTERSECT</span> <span class="p">[</span> <span class="k">ALL</span> <span class="p">]</span>
<span class="k">select</span> <span class="p">...</span> <span class="k">from</span> <span class="p">...</span></code></pre></figure>

<p>Berikut adalah contohnya</p>

<script src="https://gist.github.com/dimMaryanto93/7ae7632f9418feb724bc431eff412a3f.js?file=04e-select-intersect.sql"> </script>

<p>Jika dijalankan hasilnya seperti berikut:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hr</span><span class="o">=#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data1</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">INTERSECT</span> <span class="k">DISTINCT</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'abdul'</span><span class="p">,</span> <span class="s1">'Abdul Rahman'</span><span class="p">,</span> <span class="k">false</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data2</span><span class="p">;</span>
 <span class="n">column1</span> <span class="o">|</span> <span class="n">column2</span>  <span class="o">|</span>     <span class="n">column3</span>     <span class="o">|</span> <span class="n">column4</span> 
<span class="c1">---------+----------+-----------------+---------</span>
       <span class="mi">3</span> <span class="o">|</span> <span class="n">mpurwadi</span> <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Purwadi</span> <span class="o">|</span> <span class="n">f</span>
       <span class="mi">1</span> <span class="o">|</span> <span class="n">dimasm93</span> <span class="o">|</span> <span class="n">Dimas</span> <span class="n">Maryanto</span>  <span class="o">|</span> <span class="n">t</span>
<span class="p">(</span><span class="mi">2</span> <span class="k">rows</span><span class="p">)</span>
</code></pre></div></div>

<p>Jika temen-temen perhatikan, <code class="language-plaintext highlighter-rouge">INTERSECT</code> hanya mengambil data yang sama saja pada kedua query tersebut, Sekarang kita coba menggunakan <code class="language-plaintext highlighter-rouge">INTERSECT ALL</code> dengan query seperti berikut:</p>

<script src="https://gist.github.com/dimMaryanto93/7ae7632f9418feb724bc431eff412a3f.js?file=04e-select-intersect-all.sql"> </script>

<p>Jika dijalankan hasilnya seperti berikut:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hr</span><span class="o">=#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data1</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">INTERSECT</span> <span class="k">ALL</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'abdul'</span><span class="p">,</span> <span class="s1">'Abdul Rahman'</span><span class="p">,</span> <span class="k">false</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data2</span><span class="p">;</span>
 <span class="n">column1</span> <span class="o">|</span> <span class="n">column2</span>  <span class="o">|</span>     <span class="n">column3</span>     <span class="o">|</span> <span class="n">column4</span> 
<span class="c1">---------+----------+-----------------+---------</span>
       <span class="mi">3</span> <span class="o">|</span> <span class="n">mpurwadi</span> <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Purwadi</span> <span class="o">|</span> <span class="n">f</span>
       <span class="mi">2</span> <span class="o">|</span> <span class="n">myusuf</span>   <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Yusuf</span>   <span class="o">|</span> <span class="n">t</span>
       <span class="mi">2</span> <span class="o">|</span> <span class="n">myusuf</span>   <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Yusuf</span>   <span class="o">|</span> <span class="n">t</span>
       <span class="mi">1</span> <span class="o">|</span> <span class="n">dimasm93</span> <span class="o">|</span> <span class="n">Dimas</span> <span class="n">Maryanto</span>  <span class="o">|</span> <span class="n">t</span>
<span class="p">(</span><span class="mi">4</span> <span class="k">rows</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="using-except-queries">Using <code class="language-plaintext highlighter-rouge">EXCEPT</code> queries</h2>

<p><code class="language-plaintext highlighter-rouge">EXCEPT</code> returns all rows that are in the result of <strong>query1</strong> but not in the result of <strong>query2</strong>. (This is sometimes called the difference between two queries.) Again, duplicates are eliminated unless <code class="language-plaintext highlighter-rouge">EXCEPT ALL</code> is used.</p>

<p>The syntax:</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">select</span> <span class="p">...</span> <span class="k">from</span> <span class="p">...</span> 
<span class="k">EXCEPT</span> <span class="p">[</span> <span class="k">ALL</span> <span class="p">]</span>
<span class="k">select</span> <span class="p">...</span> <span class="k">from</span> <span class="p">...</span></code></pre></figure>

<p>Berikut adalah contohnya</p>

<script src="https://gist.github.com/dimMaryanto93/7ae7632f9418feb724bc431eff412a3f.js?file=04e-select-except.sql"> </script>

<p>Jika dijalankan hasilnya seperti berikut:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hr</span><span class="o">=#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data1</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">EXCEPT</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'abdul'</span><span class="p">,</span> <span class="s1">'Abdul Rahman'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data2</span><span class="p">;</span>
 <span class="n">column1</span> <span class="o">|</span> <span class="n">column2</span>  <span class="o">|</span>     <span class="n">column3</span>     <span class="o">|</span> <span class="n">column4</span> 
<span class="c1">---------+----------+-----------------+---------</span>
       <span class="mi">3</span> <span class="o">|</span> <span class="n">mpurwadi</span> <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Purwadi</span> <span class="o">|</span> <span class="n">f</span>
       <span class="mi">2</span> <span class="o">|</span> <span class="n">myusuf</span>   <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Yusuf</span>   <span class="o">|</span> <span class="n">t</span>
<span class="p">(</span><span class="mi">2</span> <span class="k">rows</span><span class="p">)</span>
</code></pre></div></div>

<p>Jika temen-temen perhatikan dari hasil query diatas, dimana hasilnya adalah nilai yang tidak terdapat pada query keduanya. Atau jika analogikan kita bisa menggunakan <code class="language-plaintext highlighter-rouge">select ... from ... where id NOT IN (subquery)</code>. Sekarang kita coba menggunakan <code class="language-plaintext highlighter-rouge">EXCEPT ALL</code> berikut querynya:</p>

<script src="https://gist.github.com/dimMaryanto93/7ae7632f9418feb724bc431eff412a3f.js?file=04e-select-except-all.sql"> </script>

<p>Jika dijalankan hasilnya seperti berikut:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hr</span><span class="o">=#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data1</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">EXCEPT</span> <span class="k">ALL</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'abdul'</span><span class="p">,</span> <span class="s1">'Abdul Rahman'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data2</span><span class="p">;</span>
 <span class="n">column1</span> <span class="o">|</span> <span class="n">column2</span>  <span class="o">|</span>     <span class="n">column3</span>     <span class="o">|</span> <span class="n">column4</span> 
<span class="c1">---------+----------+-----------------+---------</span>
       <span class="mi">3</span> <span class="o">|</span> <span class="n">mpurwadi</span> <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Purwadi</span> <span class="o">|</span> <span class="n">f</span>
       <span class="mi">3</span> <span class="o">|</span> <span class="n">mpurwadi</span> <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Purwadi</span> <span class="o">|</span> <span class="n">f</span>
       <span class="mi">2</span> <span class="o">|</span> <span class="n">myusuf</span>   <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Yusuf</span>   <span class="o">|</span> <span class="n">t</span>
<span class="p">(</span><span class="mi">3</span> <span class="k">rows</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="using-combination-all-of-them">Using Combination all of them</h2>

<p>In order to calculate the union, intersection, or difference of two queries, the two queries must be “union compatible”, which means that they return the same number of columns and the corresponding columns have compatible data types</p>

<p>Set operations can be combined:</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="n">query1</span> <span class="k">UNION</span> <span class="n">query2</span> <span class="k">EXCEPT</span> <span class="n">query3</span></code></pre></figure>

<p>which is equivalent to</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="p">(</span><span class="n">query1</span> <span class="k">UNION</span> <span class="n">query2</span><span class="p">)</span> <span class="k">EXCEPT</span> <span class="n">query3</span></code></pre></figure>

<p>As shown here, you can use parentheses to control the order of evaluation. Without parentheses, <code class="language-plaintext highlighter-rouge">UNION</code> and <code class="language-plaintext highlighter-rouge">EXCEPT</code> associate left-to-right, but <code class="language-plaintext highlighter-rouge">INTERSECT</code> binds more tightly than those two operators. Thus</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="n">query1</span> <span class="k">UNION</span> <span class="n">query2</span> <span class="k">INTERSECT</span> <span class="n">query3</span></code></pre></figure>

<p>means</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="n">query1</span> <span class="k">UNION</span> <span class="p">(</span><span class="n">query2</span> <span class="k">INTERSECT</span> <span class="n">query3</span><span class="p">)</span></code></pre></figure>

<p>For examples:</p>

<script src="https://gist.github.com/dimMaryanto93/7ae7632f9418feb724bc431eff412a3f.js?file=04e-select-union-and-except.sql"> </script>

<p>Jika dijalankan hasilnya seperti berikut:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hr</span><span class="o">=#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'mpurwadi'</span><span class="p">,</span> <span class="s1">'Muhamad Purwadi'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data1</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">union</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">distinct</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'dimasm93'</span><span class="p">,</span> <span class="s1">'Dimas Maryanto'</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>              <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'abdul'</span><span class="p">,</span> <span class="s1">'Abdul Rahman'</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data2</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">except</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">select</span> <span class="o">*</span>
<span class="n">hr</span><span class="o">-#</span> <span class="k">from</span> <span class="p">(</span><span class="k">values</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'myusuf'</span><span class="p">,</span> <span class="s1">'Muhamad Yusuf'</span><span class="p">,</span> <span class="k">true</span><span class="p">)</span>
<span class="n">hr</span><span class="p">(</span><span class="o">#</span>      <span class="p">)</span> <span class="k">as</span> <span class="n">data3</span><span class="p">;</span>
 <span class="n">column1</span> <span class="o">|</span> <span class="n">column2</span>  <span class="o">|</span>     <span class="n">column3</span>     <span class="o">|</span> <span class="n">column4</span> 
<span class="c1">---------+----------+-----------------+---------</span>
       <span class="mi">4</span> <span class="o">|</span> <span class="n">abdul</span>    <span class="o">|</span> <span class="n">Abdul</span> <span class="n">Rahman</span>    <span class="o">|</span> <span class="n">f</span>
       <span class="mi">3</span> <span class="o">|</span> <span class="n">mpurwadi</span> <span class="o">|</span> <span class="n">Muhamad</span> <span class="n">Purwadi</span> <span class="o">|</span> <span class="n">f</span>
       <span class="mi">1</span> <span class="o">|</span> <span class="n">dimasm93</span> <span class="o">|</span> <span class="n">Dimas</span> <span class="n">Maryanto</span>  <span class="o">|</span> <span class="n">t</span>
<span class="p">(</span><span class="mi">3</span> <span class="k">rows</span><span class="p">)</span>
</code></pre></div></div>

        
        <div class="text-right">
          <!--  -->












<nav>
  <ul class="pagination text-right">
    <!-- goto first page -->
    <li id="first_post" class="page-item">
      
      <a href="/posts/rdbms/postgresql/01-silabus-psql"  class="" title="Silabus - PostgreSQL: Pemula sampai Mahir">
        First page
      </a>
      
    </li>
    <li id="previous_page" class="page-item">
      
      <a href="/posts/rdbms/postgresql/sql/select/04d-conditional-expression" class="" 
        title="Conditional Expressions
">
        <i class="fas fa-chevron-left"></i>
      </a>
       
    </li>
    <li class="page-item">
      <a href="#" class=" disabled">
        Page 26 to 38
      </a>
    </li>
    <li id="next_page" class="page-item">
      
      <a href="/posts/rdbms/postgresql/sql/select/04f-with-queries" class="" 
        title="WITH Queries (Common Table Expressions)
">
        <i class="fas fa-chevron-right"></i>
      </a>
      
    </li>
    <li id="last_post" class="page-item">
      
      <a href="/posts/rdbms/postgresql/sql/tcl/06a-basic-tcl"  class="" title="Getting started with Transaction Control (TCL)">
        Last page
      </a>
      
    </li>
  </ul>
</nav>

<a href="#page-title" class="back-to-top">Back to top &uarr;</a>
        </div>
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#postgresql" class="page__taxonomy-item p-category" rel="tag">PostgreSQL</a><span class="sep">, </span>
    
      <a href="/categories/#rdbms" class="page__taxonomy-item p-category" rel="tag">RDBMS</a><span class="sep">, </span>
    
      <a href="/categories/#select" class="page__taxonomy-item p-category" rel="tag">select</a><span class="sep">, </span>
    
      <a href="/categories/#sql" class="page__taxonomy-item p-category" rel="tag">sql</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-06-21T21:05:03+07:00">June 21, 2022</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Combining+Queries+%28UNION%2C+INTERSECT%2C+EXCEPT%29%20%2Fposts%2Frdbms%2Fpostgresql%2Fsql%2Fselect%2F04e-combining-queries" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=%2Fposts%2Frdbms%2Fpostgresql%2Fsql%2Fselect%2F04e-combining-queries" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=%2Fposts%2Frdbms%2Fpostgresql%2Fsql%2Fselect%2F04e-combining-queries" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">You may also enjoy</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.png" alt="">
      </div>
    
    <h3 class="archive__item-title no_toc" itemprop="headline">
      
        <a class="btn btn-sm btn-light text-nowrap" href="/posts/devops/orchestration/kubernetes/workloads/05b-deployment" rel="permalink">Working with Deployment object
</a>
      
    </h3>
    
<p class="page__meta">

  
  
    <a href="/pages/cources/kubernetes" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      Kubernetes for DevOps
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2023-04-29T11:51:37+07:00">April 29, 2023</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        17 minute read
      
    </span>
  
    

</p>

        
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.png" alt="">
      </div>
    
    <h3 class="archive__item-title no_toc" itemprop="headline">
      
        <a class="btn btn-sm btn-light text-nowrap" href="/posts/devops/orchestration/kubernetes/pods/04b-study-cases-microservice-backend-apps" rel="permalink">Study cases: Microservice apps (Springboot Rest API)
</a>
      
    </h3>
    
<p class="page__meta">

  
  
    <a href="/pages/cources/kubernetes" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      Kubernetes for DevOps
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2023-02-26T16:19:54+07:00">February 26, 2023</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        27 minute read
      
    </span>
  
    

</p>

        
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.png" alt="">
      </div>
    
    <h3 class="archive__item-title no_toc" itemprop="headline">
      
        <a class="btn btn-sm btn-light text-nowrap" href="/posts/cloud-computing/hyper-converged-infrastructure/nutanix/01-welcome-nutanix-class" rel="permalink">Welcome to the Nutanix HCF (Hybrid Cloud Fundamental)
</a>
      
    </h3>
    
<p class="page__meta">

  
  
    <a href="/pages/cources/nutanix-ahv" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      Nutanix AHV for DevOps
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2023-02-05T12:00:40+07:00">February 5, 2023</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        3 minute read
      
    </span>
  
    

</p>

        
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.png" alt="">
      </div>
    
    <h3 class="archive__item-title no_toc" itemprop="headline">
      
        <a class="btn btn-sm btn-light text-nowrap" href="/posts/cloud-computing/hyper-converged-infrastructure/nutanix/00-silabus-nutanix-ahv" rel="permalink">Silabus SRE - Nutanix AHV: Pemula sampai Mahir
</a>
      
    </h3>
    
<p class="page__meta">

  
  
    <a href="/pages/cources/nutanix-ahv" target="_blank" rel="noopener noreferrer">
      <i class="fas fa-link"></i>
      Nutanix AHV for DevOps
    </a>
    <span class="page__meta-sep"></span>
  



  
    
    <span class="page__meta-date">
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      
      <time datetime="2023-02-04T20:23:05+07:00">February 4, 2023</time>
    </span>
  

  <span class="page__meta-sep"></span>

  
    
    

    <span class="page__meta-readtime">
      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        2 minute read
      
    </span>
  
    

</p>

        
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

<script>
function showCourceContent(data){
  if(data) {
    $('body').removeClass('wide');
    $('#cource_contents').show();
  } else {
    $('body').addClass('wide');
    $('#cource_contents').hide();
  }
}

</script>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://facebook.com/dimmaryanto93/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
          <li><a href="https://github.com/dimmaryanto93" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://instagram.com/dimmaryanto93" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
        
          <li><a href="https://www.youtube.com/@DimasMaryanto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-youtube" aria-hidden="true"></i> Youtube</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Dimas maryanto. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
